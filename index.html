<!DOCTYPE html>
<html lang="sr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>NaÅ¡e putovanje</title>
<style>
  body {
    margin: 0;
    background-color: #001122;
    overflow: hidden;
    color: silver;
    font-family: 'IBM Plex Mono', monospace;
    text-align: center;
  }
  h1 {
    font-size: 28px;
    margin-top: 40px;
    color: silver;
  }
  p.subtitle {
    color: #c0c0c0;
    font-size: 16px;
    margin-top: -10px;
    margin-bottom: 40px;
  }
  .stars {
    position: fixed;
    inset: 0;
    z-index: 0;
    overflow: hidden;
  }
  .star {
    position: absolute;
    width: 2px;
    height: 2px;
    background: silver;
    border-radius: 50%;
    animation: twinkle 3s infinite ease-in-out;
    opacity: 0.6;
  }
  @keyframes twinkle {
    0%,100% {opacity: 0.2; transform: scale(0.8);}
    50% {opacity: 1; transform: scale(1.5);}
  }

  .truck {
    width: 200px;
    position: relative;
    right: -300px;
    transition: right 2.5s ease-in-out;
    z-index: 2;
  }
  .truck.enter {
    right: calc(50% - 100px);
  }

  .button {
    background-color: transparent;
    border: 1px solid silver;
    color: silver;
    padding: 8px 20px;
    margin-top: 20px;
    cursor: pointer;
    border-radius: 8px;
    font-family: 'IBM Plex Mono', monospace;
    z-index: 3;
  }
  .button:hover {
    background-color: rgba(255,255,255,0.1);
  }

  .message {
    max-width: 600px;
    margin: 30px auto;
    font-size: 18px;
    line-height: 1.6;
    opacity: 0;
    transition: opacity 1s;
  }
  .visible {
    opacity: 1;
  }

  #finalMessage {
    display: none;
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    font-size: 24px;
    line-height: 1.6;
    color: silver;
    text-shadow: 0 0 10px silver;
  }
  #close {
    position: absolute;
    top: 15px;
    right: 20px;
    color: silver;
    font-size: 22px;
    cursor: pointer;
    display: none;
  }
</style>
</head>
<body>

<div class="stars" id="stars"></div>

<h1>NaÅ¡e putovanje</h1>
<p class="subtitle">Svaka uspomena dolazi svojim kamionom...</p>

<img src="IMG_8981.png" class="truck" id="truck">
<br>
<button id="unload" class="button" onclick="unload()">Istovar</button>

<div class="message" id="message"></div>
<button id="nextBtn" class="button" style="display:none;" onclick="nextTruck()"></button>

<div id="finalMessage">
  Volim te 365 puta do sunca i meseca i nazad ğŸ’™ğŸ’™ğŸ’™ğŸ’™
</div>
<div id="close" onclick="restart()">âœ–</div>

<script>
const messages = [
  "Kada si mi Äestitao roÄ‘endan, znala sam da je to to i da tu poÄinje naÅ¡a priÄa. â™¾ï¸",
  "Osmeh koji me je kupio, duhovitost koju retko ko danas ima. ğŸ˜",
  "NaÅ¡a prva voÅ¾nja. SeÄ‡am se, napolju je bilo ledeno. Dvoumili smo se da li Å¡etnja ili voÅ¾nja i odluÄili smo se za voÅ¾nju. Seti se samo koliko si priÄao tada. ğŸ˜‚",
  "Ah, taj dm i roda. Da nije bilo njih, ne znam u Å¡ta bih gledala. MoÅ¾da bih ti olakÅ¡ala taj prvi poljubac. ğŸ’‹",
  "SeÄ‡aÅ¡ se da si mi stalno slikao jastuk pored sebe koji nije imao jastuÄnicu i govorio da moraÅ¡ da staviÅ¡ tu jastuÄnicu za nekoga. ğŸ’•",
  "Naglo je krenulo upoznavanje roditelja i sve se zbrzalo, ali nekako sam znala i oseÄ‡ala da sve to tako treba da bude. ğŸ¥³",
  "Prvo â€œvolim teâ€ je izaÅ¡lo naravno iz tvojih usana. ğŸ˜",
  "Kada si me pitao da li Å¾elim da Å¾ivim kod tebe, unutraÅ¡nji glas je vriÅ¡tao â€œDAAAAAâ€ ali sam staloÅ¾eno odgovorila â€œpa, videÄ‡emoâ€. ğŸ¤©",
  "Imam u tebe ogromno poverenje, sigurnost koju mi niko do sada nije pruÅ¾io i snagu koju mi svakim danom sve viÅ¡e dajeÅ¡. ğŸ«¶ğŸ»",
  "Doneli smo vaÅ¾nu odluku u naÅ¡im Å¾ivotima Å¡to se tiÄe tvog posla i naravno Å¡to se nas tiÄeâ€¦ğŸ‘«",
  "Jako sam sreÄ‡na Å¡to polako pravimo neÅ¡to svoje â€” mic po mic i eto nama uskoro sreÄ‘ene sobe. ğŸ˜ï¸",
  "Iskreno se nadam da Ä‡u moÄ‡i svake godine da nastavljam ovu priÄu i da je dopunjujem mnogim uspomenama. ğŸ”œğŸ”œ"
];
const nextLabels = [
  "Nova tura ğŸš›", "JoÅ¡ jedna voÅ¾nja ğŸšš", "SledeÄ‡a ruta ğŸ›£ï¸", "Nova isporuka ğŸ“¦",
  "JoÅ¡ jedan tovar ğŸ’Œ", "SledeÄ‡a tura ğŸš›", "Nova voÅ¾nja ğŸ›", "JoÅ¡ jedan kamion ğŸšš",
  "Nova dostava ğŸ’«", "SledeÄ‡a linija ğŸ›¤ï¸", "JoÅ¡ jedna uspomena ğŸ©µ", "Kraj puta ğŸ’™"
];

let index = 0;
const truck = document.getElementById('truck');
const msg = document.getElementById('message');
const nextBtn = document.getElementById('nextBtn');
const unloadBtn = document.getElementById('unload');
const finalMsg = document.getElementById('finalMessage');
const closeBtn = document.getElementById('close');

function makeStars(){
  const sky = document.getElementById('stars');
  for(let i=0;i<80;i++){
    const s=document.createElement('div');
    s.className='star';
    s.style.left=Math.random()*100+'vw';
    s.style.top=Math.random()*100+'vh';
    s.style.animationDuration=(2+Math.random()*4)+'s';
    sky.appendChild(s);
  }
}
makeStars();

function unload(){
  unloadBtn.style.display='none';
  msg.textContent='';
  typeWriter(messages[index], 25, ()=>{
    msg.classList.add('visible');
    nextBtn.style.display='inline-block';
    nextBtn.textContent=nextLabels[index];
  });
}
function typeWriter(text, speed, callback){
  let i=0;
  function step(){
    if(i<text.length){
      msg.textContent+=text.charAt(i);
      i++;
      setTimeout(step,speed);
    } else if(callback){callback();}
  }
  step();
}

function nextTruck(){
  msg.classList.remove('visible');
  nextBtn.style.display='none';
  msg.textContent='';
  index++;
  if(index<messages.length){
    truck.classList.remove('enter');
    setTimeout(()=>{truck.classList.add('enter');unloadBtn.style.display='inline-block';},500);
  } else {
    endScene();
  }
}

function endScene(){
  document.body.innerHTML='';
  document.body.style.background='#001122';
  const stars=document.createElement('div');
  stars.className='stars';
  document.body.appendChild(stars);
  makeStars();
  const bigTruck=document.createElement('img');
  bigTruck.src='IMG_8981.png';
  bigTruck.style.width='300px';
  bigTruck.style.position='absolute';
  bigTruck.style.top='50%';
  bigTruck.style.left='100%';
  bigTruck.style.transform='translateY(-50%)';
  bigTruck.style.transition='left 5s linear';
  document.body.appendChild(bigTruck);
  const text=document.createElement('div');
  text.innerHTML='Volim te 365 puta do sunca i meseca i nazad ğŸ’™ğŸ’™ğŸ’™ğŸ’™';
  text.style.position='absolute';
  text.style.top='60%';
  text.style.left='100%';
  text.style.transform='translateY(-50%)';
  text.style.color='silver';
  text.style.fontSize='22px';
  text.style.whiteSpace='nowrap';
  text.style.transition='left 5s linear';
  document.body.appendChild(text);
  setTimeout(()=>{bigTruck.style.left='-350px';text.style.left='10%';},200);
}
window.onload=()=>truck.classList.add('enter');
</script>
</body>
</html>
